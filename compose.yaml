version: "3.8"

services:
  bookbinder-app:
    image: node:20
    volumes:
      - .:/app
    command: bash -c "cd /app && npm install && npm run build"

  bookbinder-nginx:
    image: nginx
    restart: unless-stopped
    volumes:
      - ./dist:/usr/share/nginx/html
